{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/app.js","src/js/modules/buildTable.js","src/js/modules/processData.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import processData from './modules/processData';\nimport buildTable from './modules/buildTable';\n\n/**\n * Namespace object\n */\nvar jira = {\n    webSocket: new WebSocket(\"ws://10.89.236.210:7700/socketserver\"),\n    data: {\n        projects: {}, //data for currently tracked projects\n        devs: {} //data for tickets by developers\n    },\n    widgets: {\n        tables: {\n            contsinerID: \"current_projects\"\n        }\n    }\n}\n\n/**\n * Establish connection\n */\njira.webSocket.onopen = function(event) {\n    console.log(`Browser >> Connected to http://10.89.236.210/`);\n    jira.webSocket.send('Test');\n};\n\n/**\n * Update info\n */\njira.webSocket.onmessage = function(event) {\n    processData(jira, JSON.parse(event.data));\n    tablesWidgetUpdate();\n}\n\n/**\n * Tables update\n */\nfunction tablesWidgetUpdate() {\n    document.getElementById(jira.widgets.tables.contsinerID).textContent = '';\n    buildTable(jira.data.projects, 'projects');\n    buildTable(jira.data.devs, 'devs');\n}","/**\n * Module to build tables based on data type\n * \n * @export tablesFactory function\n * @param {object} [data={}] data to be used in table \n * @param {string} [type=\"projects\"]  table type => \"projects\" || \"devs\"\n * @returns {void}\n */\nexport default function(data = {}, type = \"projects\") {\n\n    //check if data object is not empty\n    if (noData(data)) return;\n\n    //create table, headers, rows, select container\n    let container = document.getElementById(\"current_projects\"),\n        table = createNode('table'),\n        headers = createHeaders(data, type),\n        rows = createRows(data, type, headers);\n\n    createTable(container, type, table, headers, rows);\n}\n\n/**\n * Create headers for table based on type\n * \n * @param {object} data object containing data on current projects\n * @param {string} type table type => \"projects\" || \"devs\"\n * @returns {object} array with headers' names\n */\nfunction createHeaders(data, type) {\n    let headers = [];\n    if (type === \"projects\") {\n        headers = [\n            'Project',\n            'Jira Key',\n            '(Re)Open',\n            'In Progress',\n            'Dev Complete',\n            'Tridion Pbl',\n            'QA Test',\n            'Blocked',\n            'Closed',\n            'Assignees'\n        ];\n    } else {\n        headers = ['Developer'];\n        for (let dev in data) {\n            for (let project in data[dev]) {\n                if (!headers.includes(project)) headers.push(project);\n            }\n        }\n    }\n    return headers;\n}\n\n/**\n * Check if data is a proper object\n * \n * @param {object} data object to check \n * @returns {boolean} \n */\nfunction noData(data) {\n    if (Object.keys(data).length === 0 && data.constructor === Object) {\n        return true;\n    }\n    return false;\n}\n\n/**\n * Elements factory\n * \n * @param {string} nodeType indicate element type\n * @param {string} content set textContent for element\n * @returns {object} html node\n */\nfunction createNode(nodeType, content) {\n    let node = document.createElement(nodeType);\n    (nodeType === \"table\") ? node.className = \"b_table\": node.className = `b_table__${nodeType}`;\n    if (content || content === 0) node.textContent = content;\n    return node;\n}\n\n/**\n * Creaet rows from data\n * \n * @param {object} data object containing data on current projects\n * @param {string} type table type => \"projects\" || \"devs\"\n * @returns {array} with html nodes\n */\nfunction createRows(data, type, headers) {\n    let rows = [];\n    for (let row in data) {\n        let tr = createNode('tr');\n        addClassModifier(tr);\n        rows.push(createCell(tr, data[row], row, type, headers));\n    }\n    return rows;\n}\n\nfunction addClassModifier(node, classModifier = '--selected') {\n    classModifier = node.className + classModifier;\n    if (node) node.addEventListener('click', _=>{\n        node.classList.toggle(classModifier);\n    })\n}\n\n/**\n * Create cell beased on bunch of params...\n * \n * @param {object} tr current tr html node\n * @param {object} data object containing data on current projects\n * @param {string} name name of the current row \n * @param {string} type table type => \"projects\" || \"devs\"\n * @param {array} headers array with data for table headers\n * @returns {object} tr html node\n */\nfunction createCell(tr, data, name, type, headers) {\n    let cells = [];\n\n    if (type === \"projects\") {\n        //destructuring object with project data & assigning default values\n        let {\n            assignees = [null],\n                blocked = 0,\n                closed = 0,\n                devComplete = 0,\n                devTest = 0,\n                inProgress = 0,\n                name = \"Top Secret\",\n                opened = 0,\n                project = \"Classified\",\n                readyForTest = 0,\n                tridion = 0\n        } = data;\n\n        //building an array for cells in a proper order\n        cells = [name, project, opened, inProgress, devComplete, tridion, readyForTest, blocked, closed, assignees];\n\n    } else {\n        for (let project of headers) cells.push(0);\n        cells[0] = name; //set dev name as the first value in cells array\n        for (let project in data) {\n            //assign dev's project value (num of tickets) to proper position in cells arr\n            cells[headers.indexOf(project)] = data[project]; \n        }\n    }\n\n    for (let cell of cells) {\n        let td = createNode('td', cell);\n        tr.appendChild(td);\n    }\n    return tr;\n}\n\n/**\n * Build a table\n * \n * @param {object} container table's container\n * @param {object} table html node object\n * @param {array} headers array with headers' values\n * @param {array} rows array with html nodes to be used as rows\n * @returns {void} \n */\nfunction createTable(container, type, table, headers, rows) {\n\n    let tableTitle = createNode('h2', type);\n\n    //create headers\n    let tr = createNode('tr');\n    for (let cell of headers) {\n        let td = createNode('th', cell);\n        tr.appendChild(td);\n    }\n    table.appendChild(tr);\n\n    // table.appendChild(headers);\n    for (let row of rows) {\n        table.appendChild(row);\n    }\n\n    //append table to its container\n    container.appendChild(tableTitle);\n    container.appendChild(table);\n}","export default function(jira, data) {\n    \n    //check if data contains message\n    if (data.message) {\n        console.log(data.message);\n        return;\n    }\n\n    //update jira.data object\n    for (let item in data) {\n        jira.data[item] = data[item];\n    }\n    console.log(new Date());\n    console.log(jira.data);\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvYXBwLmpzIiwic3JjL2pzL21vZHVsZXMvYnVpbGRUYWJsZS5qcyIsInNyYy9qcy9tb2R1bGVzL3Byb2Nlc3NEYXRhLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTs7OztBQUNBOzs7Ozs7QUFFQTs7O0FBR0EsSUFBSSxPQUFPO0FBQ1AsZUFBVyxJQUFJLFNBQUosQ0FBYyxzQ0FBZCxDQURKO0FBRVAsVUFBTTtBQUNGLGtCQUFVLEVBRFIsRUFDWTtBQUNkLGNBQU0sRUFGSixDQUVPO0FBRlAsS0FGQztBQU1QLGFBQVM7QUFDTCxnQkFBUTtBQUNKLHlCQUFhO0FBRFQ7QUFESDs7QUFPYjs7O0FBYlcsQ0FBWCxDQWdCQSxLQUFLLFNBQUwsQ0FBZSxNQUFmLEdBQXdCLFVBQVMsS0FBVCxFQUFnQjtBQUNwQyxZQUFRLEdBQVI7QUFDQSxTQUFLLFNBQUwsQ0FBZSxJQUFmLENBQW9CLE1BQXBCO0FBQ0gsQ0FIRDs7QUFLQTs7O0FBR0EsS0FBSyxTQUFMLENBQWUsU0FBZixHQUEyQixVQUFTLEtBQVQsRUFBZ0I7QUFDdkMsK0JBQVksSUFBWixFQUFrQixLQUFLLEtBQUwsQ0FBVyxNQUFNLElBQWpCLENBQWxCO0FBQ0E7QUFDSCxDQUhEOztBQUtBOzs7QUFHQSxTQUFTLGtCQUFULEdBQThCO0FBQzFCLGFBQVMsY0FBVCxDQUF3QixLQUFLLE9BQUwsQ0FBYSxNQUFiLENBQW9CLFdBQTVDLEVBQXlELFdBQXpELEdBQXVFLEVBQXZFO0FBQ0EsOEJBQVcsS0FBSyxJQUFMLENBQVUsUUFBckIsRUFBK0IsVUFBL0I7QUFDQSw4QkFBVyxLQUFLLElBQUwsQ0FBVSxJQUFyQixFQUEyQixNQUEzQjtBQUNIOzs7Ozs7Ozs7a0JDbENjLFlBQXVDO0FBQUEsUUFBOUIsSUFBOEIsdUVBQXZCLEVBQXVCO0FBQUEsUUFBbkIsSUFBbUIsdUVBQVosVUFBWTs7O0FBRWxEO0FBQ0Es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O0FBQUEsZ0JBQWIsR0FBYTs7QUFDbEIsa0JBQU0sV0FBTixDQUFrQixHQUFsQjtBQUNIOztBQUVEO0FBakJ3RDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQWtCeEQsY0FBVSxXQUFWLENBQXNCLFVBQXRCO0FBQ0EsY0FBVSxXQUFWLENBQXNCLEtBQXRCO0FBQ0g7Ozs7Ozs7OztrQkN2TGMsVUFBUyxJQUFULEVBQWUsSUFBZixFQUFxQjs7QUFFaEM7QUFDQSxRQUFJLEtBQUssT0FBVCxFQUFrQjtBQUNkLGdCQUFRLEdBQVIsQ0FBWSxLQUFLLE9BQWpCO0FBQ0E7QUFDSDs7QUFFRDtBQUNBLFNBQUssSUFBSSxJQUFULElBQWlCLElBQWpCLEVBQXVCO0FBQ25CLGFBQUssSUFBTCxDQUFVLElBQVYsSUFBa0IsS0FBSyxJQUFMLENBQWxCO0FBQ0g7QUFDRCxZQUFRLEdBQVIsQ0FBWSxJQUFJLElBQUosRUFBWjtBQUNBLFlBQVEsR0FBUixDQUFZLEtBQUssSUFBakI7QUFDSCxDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCBwcm9jZXNzRGF0YSBmcm9tICcuL21vZHVsZXMvcHJvY2Vzc0RhdGEnO1xuaW1wb3J0IGJ1aWxkVGFibGUgZnJvbSAnLi9tb2R1bGVzL2J1aWxkVGFibGUnO1xuXG4vKipcbiAqIE5hbWVzcGFjZSBvYmplY3RcbiAqL1xudmFyIGppcmEgPSB7XG4gICAgd2ViU29ja2V0OiBuZXcgV2ViU29ja2V0KFwid3M6Ly8xMC44OS4yMzYuMjEwOjc3MDAvc29ja2V0c2VydmVyXCIpLFxuICAgIGRhdGE6IHtcbiAgICAgICAgcHJvamVjdHM6IHt9LCAvL2RhdGEgZm9yIGN1cnJlbnRseSB0cmFja2VkIHByb2plY3RzXG4gICAgICAgIGRldnM6IHt9IC8vZGF0YSBmb3IgdGlja2V0cyBieSBkZXZlbG9wZXJzXG4gICAgfSxcbiAgICB3aWRnZXRzOiB7XG4gICAgICAgIHRhYmxlczoge1xuICAgICAgICAgICAgY29udHNpbmVySUQ6IFwiY3VycmVudF9wcm9qZWN0c1wiXG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogRXN0YWJsaXNoIGNvbm5lY3Rpb25cbiAqL1xuamlyYS53ZWJTb2NrZXQub25vcGVuID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBjb25zb2xlLmxvZyhgQnJvd3NlciA+PiBDb25uZWN0ZWQgdG8gaHR0cDovLzEwLjg5LjIzNi4yMTAvYCk7XG4gICAgamlyYS53ZWJTb2NrZXQuc2VuZCgnVGVzdCcpO1xufTtcblxuLyoqXG4gKiBVcGRhdGUgaW5mb1xuICovXG5qaXJhLndlYlNvY2tldC5vbm1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgIHByb2Nlc3NEYXRhKGppcmEsIEpTT04ucGFyc2UoZXZlbnQuZGF0YSkpO1xuICAgIHRhYmxlc1dpZGdldFVwZGF0ZSgpO1xufVxuXG4vKipcbiAqIFRhYmxlcyB1cGRhdGVcbiAqL1xuZnVuY3Rpb24gdGFibGVzV2lkZ2V0VXBkYXRlKCkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGppcmEud2lkZ2V0cy50YWJsZXMuY29udHNpbmVySUQpLnRleHRDb250ZW50ID0gJyc7XG4gICAgYnVpbGRUYWJsZShqaXJhLmRhdGEucHJvamVjdHMsICdwcm9qZWN0cycpO1xuICAgIGJ1aWxkVGFibGUoamlyYS5kYXRhLmRldnMsICdkZXZzJyk7XG59IiwiLyoqXG4gKiBNb2R1bGUgdG8gYnVpbGQgdGFibGVzIGJhc2VkIG9uIGRhdGEgdHlwZVxuICogXG4gKiBAZXhwb3J0IHRhYmxlc0ZhY3RvcnkgZnVuY3Rpb25cbiAqIEBwYXJhbSB7b2JqZWN0fSBbZGF0YT17fV0gZGF0YSB0byBiZSB1c2VkIGluIHRhYmxlIFxuICogQHBhcmFtIHtzdHJpbmd9IFt0eXBlPVwicHJvamVjdHNcIl0gIHRhYmxlIHR5cGUgPT4gXCJwcm9qZWN0c1wiIHx8IFwiZGV2c1wiXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oZGF0YSA9IHt9LCB0eXBlID0gXCJwcm9qZWN0c1wiKSB7XG5cbiAgICAvL2NoZWNrIGlmIGRhdGEgb2JqZWN0IGlzIG5vdCBlbXB0eVxuICAgIGlmIChub0RhdGEoZGF0YSkpIHJldHVybjtcblxuICAgIC8vY3JlYXRlIHRhYmxlLCBoZWFkZXJzLCByb3dzLCBzZWxlY3QgY29udGFpbmVyXG4gICAgbGV0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3VycmVudF9wcm9qZWN0c1wiKSxcbiAgICAgICAgdGFibGUgPSBjcmVhdGVOb2RlKCd0YWJsZScpLFxuICAgICAgICBoZWFkZXJzID0gY3JlYXRlSGVhZGVycyhkYXRhLCB0eXBlKSxcbiAgICAgICAgcm93cyA9IGNyZWF0ZVJvd3MoZGF0YSwgdHlwZSwgaGVhZGVycyk7XG5cbiAgICBjcmVhdGVUYWJsZShjb250YWluZXIsIHR5cGUsIHRhYmxlLCBoZWFkZXJzLCByb3dzKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgaGVhZGVycyBmb3IgdGFibGUgYmFzZWQgb24gdHlwZVxuICogXG4gKiBAcGFyYW0ge29iamVjdH0gZGF0YSBvYmplY3QgY29udGFpbmluZyBkYXRhIG9uIGN1cnJlbnQgcHJvamVjdHNcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIHRhYmxlIHR5cGUgPT4gXCJwcm9qZWN0c1wiIHx8IFwiZGV2c1wiXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBhcnJheSB3aXRoIGhlYWRlcnMnIG5hbWVzXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUhlYWRlcnMoZGF0YSwgdHlwZSkge1xuICAgIGxldCBoZWFkZXJzID0gW107XG4gICAgaWYgKHR5cGUgPT09IFwicHJvamVjdHNcIikge1xuICAgICAgICBoZWFkZXJzID0gW1xuICAgICAgICAgICAgJ1Byb2plY3QnLFxuICAgICAgICAgICAgJ0ppcmEgS2V5JyxcbiAgICAgICAgICAgICcoUmUpT3BlbicsXG4gICAgICAgICAgICAnSW4gUHJvZ3Jlc3MnLFxuICAgICAgICAgICAgJ0RldiBDb21wbGV0ZScsXG4gICAgICAgICAgICAnVHJpZGlvbiBQYmwnLFxuICAgICAgICAgICAgJ1FBIFRlc3QnLFxuICAgICAgICAgICAgJ0Jsb2NrZWQnLFxuICAgICAgICAgICAgJ0Nsb3NlZCcsXG4gICAgICAgICAgICAnQXNzaWduZWVzJ1xuICAgICAgICBdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGhlYWRlcnMgPSBbJ0RldmVsb3BlciddO1xuICAgICAgICBmb3IgKGxldCBkZXYgaW4gZGF0YSkge1xuICAgICAgICAgICAgZm9yIChsZXQgcHJvamVjdCBpbiBkYXRhW2Rldl0pIHtcbiAgICAgICAgICAgICAgICBpZiAoIWhlYWRlcnMuaW5jbHVkZXMocHJvamVjdCkpIGhlYWRlcnMucHVzaChwcm9qZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaGVhZGVycztcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBkYXRhIGlzIGEgcHJvcGVyIG9iamVjdFxuICogXG4gKiBAcGFyYW0ge29iamVjdH0gZGF0YSBvYmplY3QgdG8gY2hlY2sgXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gXG4gKi9cbmZ1bmN0aW9uIG5vRGF0YShkYXRhKSB7XG4gICAgaWYgKE9iamVjdC5rZXlzKGRhdGEpLmxlbmd0aCA9PT0gMCAmJiBkYXRhLmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBFbGVtZW50cyBmYWN0b3J5XG4gKiBcbiAqIEBwYXJhbSB7c3RyaW5nfSBub2RlVHlwZSBpbmRpY2F0ZSBlbGVtZW50IHR5cGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50IHNldCB0ZXh0Q29udGVudCBmb3IgZWxlbWVudFxuICogQHJldHVybnMge29iamVjdH0gaHRtbCBub2RlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZU5vZGUobm9kZVR5cGUsIGNvbnRlbnQpIHtcbiAgICBsZXQgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobm9kZVR5cGUpO1xuICAgIChub2RlVHlwZSA9PT0gXCJ0YWJsZVwiKSA/IG5vZGUuY2xhc3NOYW1lID0gXCJiX3RhYmxlXCI6IG5vZGUuY2xhc3NOYW1lID0gYGJfdGFibGVfXyR7bm9kZVR5cGV9YDtcbiAgICBpZiAoY29udGVudCB8fCBjb250ZW50ID09PSAwKSBub2RlLnRleHRDb250ZW50ID0gY29udGVudDtcbiAgICByZXR1cm4gbm9kZTtcbn1cblxuLyoqXG4gKiBDcmVhZXQgcm93cyBmcm9tIGRhdGFcbiAqIFxuICogQHBhcmFtIHtvYmplY3R9IGRhdGEgb2JqZWN0IGNvbnRhaW5pbmcgZGF0YSBvbiBjdXJyZW50IHByb2plY3RzXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSB0YWJsZSB0eXBlID0+IFwicHJvamVjdHNcIiB8fCBcImRldnNcIlxuICogQHJldHVybnMge2FycmF5fSB3aXRoIGh0bWwgbm9kZXNcbiAqL1xuZnVuY3Rpb24gY3JlYXRlUm93cyhkYXRhLCB0eXBlLCBoZWFkZXJzKSB7XG4gICAgbGV0IHJvd3MgPSBbXTtcbiAgICBmb3IgKGxldCByb3cgaW4gZGF0YSkge1xuICAgICAgICBsZXQgdHIgPSBjcmVhdGVOb2RlKCd0cicpO1xuICAgICAgICBhZGRDbGFzc01vZGlmaWVyKHRyKTtcbiAgICAgICAgcm93cy5wdXNoKGNyZWF0ZUNlbGwodHIsIGRhdGFbcm93XSwgcm93LCB0eXBlLCBoZWFkZXJzKSk7XG4gICAgfVxuICAgIHJldHVybiByb3dzO1xufVxuXG5mdW5jdGlvbiBhZGRDbGFzc01vZGlmaWVyKG5vZGUsIGNsYXNzTW9kaWZpZXIgPSAnLS1zZWxlY3RlZCcpIHtcbiAgICBjbGFzc01vZGlmaWVyID0gbm9kZS5jbGFzc05hbWUgKyBjbGFzc01vZGlmaWVyO1xuICAgIGlmIChub2RlKSBub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgXz0+e1xuICAgICAgICBub2RlLmNsYXNzTGlzdC50b2dnbGUoY2xhc3NNb2RpZmllcik7XG4gICAgfSlcbn1cblxuLyoqXG4gKiBDcmVhdGUgY2VsbCBiZWFzZWQgb24gYnVuY2ggb2YgcGFyYW1zLi4uXG4gKiBcbiAqIEBwYXJhbSB7b2JqZWN0fSB0ciBjdXJyZW50IHRyIGh0bWwgbm9kZVxuICogQHBhcmFtIHtvYmplY3R9IGRhdGEgb2JqZWN0IGNvbnRhaW5pbmcgZGF0YSBvbiBjdXJyZW50IHByb2plY3RzXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBuYW1lIG9mIHRoZSBjdXJyZW50IHJvdyBcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIHRhYmxlIHR5cGUgPT4gXCJwcm9qZWN0c1wiIHx8IFwiZGV2c1wiXG4gKiBAcGFyYW0ge2FycmF5fSBoZWFkZXJzIGFycmF5IHdpdGggZGF0YSBmb3IgdGFibGUgaGVhZGVyc1xuICogQHJldHVybnMge29iamVjdH0gdHIgaHRtbCBub2RlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNlbGwodHIsIGRhdGEsIG5hbWUsIHR5cGUsIGhlYWRlcnMpIHtcbiAgICBsZXQgY2VsbHMgPSBbXTtcblxuICAgIGlmICh0eXBlID09PSBcInByb2plY3RzXCIpIHtcbiAgICAgICAgLy9kZXN0cnVjdHVyaW5nIG9iamVjdCB3aXRoIHByb2plY3QgZGF0YSAmIGFzc2lnbmluZyBkZWZhdWx0IHZhbHVlc1xuICAgICAgICBsZXQge1xuICAgICAgICAgICAgYXNzaWduZWVzID0gW251bGxdLFxuICAgICAgICAgICAgICAgIGJsb2NrZWQgPSAwLFxuICAgICAgICAgICAgICAgIGNsb3NlZCA9IDAsXG4gICAgICAgICAgICAgICAgZGV2Q29tcGxldGUgPSAwLFxuICAgICAgICAgICAgICAgIGRldlRlc3QgPSAwLFxuICAgICAgICAgICAgICAgIGluUHJvZ3Jlc3MgPSAwLFxuICAgICAgICAgICAgICAgIG5hbWUgPSBcIlRvcCBTZWNyZXRcIixcbiAgICAgICAgICAgICAgICBvcGVuZWQgPSAwLFxuICAgICAgICAgICAgICAgIHByb2plY3QgPSBcIkNsYXNzaWZpZWRcIixcbiAgICAgICAgICAgICAgICByZWFkeUZvclRlc3QgPSAwLFxuICAgICAgICAgICAgICAgIHRyaWRpb24gPSAwXG4gICAgICAgIH0gPSBkYXRhO1xuXG4gICAgICAgIC8vYnVpbGRpbmcgYW4gYXJyYXkgZm9yIGNlbGxzIGluIGEgcHJvcGVyIG9yZGVyXG4gICAgICAgIGNlbGxzID0gW25hbWUsIHByb2plY3QsIG9wZW5lZCwgaW5Qcm9ncmVzcywgZGV2Q29tcGxldGUsIHRyaWRpb24sIHJlYWR5Rm9yVGVzdCwgYmxvY2tlZCwgY2xvc2VkLCBhc3NpZ25lZXNdO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChsZXQgcHJvamVjdCBvZiBoZWFkZXJzKSBjZWxscy5wdXNoKDApO1xuICAgICAgICBjZWxsc1swXSA9IG5hbWU7IC8vc2V0IGRldiBuYW1lIGFzIHRoZSBmaXJzdCB2YWx1ZSBpbiBjZWxscyBhcnJheVxuICAgICAgICBmb3IgKGxldCBwcm9qZWN0IGluIGRhdGEpIHtcbiAgICAgICAgICAgIC8vYXNzaWduIGRldidzIHByb2plY3QgdmFsdWUgKG51bSBvZiB0aWNrZXRzKSB0byBwcm9wZXIgcG9zaXRpb24gaW4gY2VsbHMgYXJyXG4gICAgICAgICAgICBjZWxsc1toZWFkZXJzLmluZGV4T2YocHJvamVjdCldID0gZGF0YVtwcm9qZWN0XTsgXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGxldCBjZWxsIG9mIGNlbGxzKSB7XG4gICAgICAgIGxldCB0ZCA9IGNyZWF0ZU5vZGUoJ3RkJywgY2VsbCk7XG4gICAgICAgIHRyLmFwcGVuZENoaWxkKHRkKTtcbiAgICB9XG4gICAgcmV0dXJuIHRyO1xufVxuXG4vKipcbiAqIEJ1aWxkIGEgdGFibGVcbiAqIFxuICogQHBhcmFtIHtvYmplY3R9IGNvbnRhaW5lciB0YWJsZSdzIGNvbnRhaW5lclxuICogQHBhcmFtIHtvYmplY3R9IHRhYmxlIGh0bWwgbm9kZSBvYmplY3RcbiAqIEBwYXJhbSB7YXJyYXl9IGhlYWRlcnMgYXJyYXkgd2l0aCBoZWFkZXJzJyB2YWx1ZXNcbiAqIEBwYXJhbSB7YXJyYXl9IHJvd3MgYXJyYXkgd2l0aCBodG1sIG5vZGVzIHRvIGJlIHVzZWQgYXMgcm93c1xuICogQHJldHVybnMge3ZvaWR9IFxuICovXG5mdW5jdGlvbiBjcmVhdGVUYWJsZShjb250YWluZXIsIHR5cGUsIHRhYmxlLCBoZWFkZXJzLCByb3dzKSB7XG5cbiAgICBsZXQgdGFibGVUaXRsZSA9IGNyZWF0ZU5vZGUoJ2gyJywgdHlwZSk7XG5cbiAgICAvL2NyZWF0ZSBoZWFkZXJzXG4gICAgbGV0IHRyID0gY3JlYXRlTm9kZSgndHInKTtcbiAgICBmb3IgKGxldCBjZWxsIG9mIGhlYWRlcnMpIHtcbiAgICAgICAgbGV0IHRkID0gY3JlYXRlTm9kZSgndGgnLCBjZWxsKTtcbiAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGQpO1xuICAgIH1cbiAgICB0YWJsZS5hcHBlbmRDaGlsZCh0cik7XG5cbiAgICAvLyB0YWJsZS5hcHBlbmRDaGlsZChoZWFkZXJzKTtcbiAgICBmb3IgKGxldCByb3cgb2Ygcm93cykge1xuICAgICAgICB0YWJsZS5hcHBlbmRDaGlsZChyb3cpO1xuICAgIH1cblxuICAgIC8vYXBwZW5kIHRhYmxlIHRvIGl0cyBjb250YWluZXJcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGFibGVUaXRsZSk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRhYmxlKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihqaXJhLCBkYXRhKSB7XG4gICAgXG4gICAgLy9jaGVjayBpZiBkYXRhIGNvbnRhaW5zIG1lc3NhZ2VcbiAgICBpZiAoZGF0YS5tZXNzYWdlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEubWVzc2FnZSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvL3VwZGF0ZSBqaXJhLmRhdGEgb2JqZWN0XG4gICAgZm9yIChsZXQgaXRlbSBpbiBkYXRhKSB7XG4gICAgICAgIGppcmEuZGF0YVtpdGVtXSA9IGRhdGFbaXRlbV07XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKG5ldyBEYXRlKCkpO1xuICAgIGNvbnNvbGUubG9nKGppcmEuZGF0YSk7XG59Il19"}